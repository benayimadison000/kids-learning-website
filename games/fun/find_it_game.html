<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Floating Find It! - Junior Explorer</title>
    <style>
        body {
            margin: 0;
            background: radial-gradient(circle, #e0f7fa 0%, #80deea 100%);
            font-family: 'Comic Sans MS', cursive, sans-serif;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #header {
            background: white;
            width: 100%;
            padding: 15px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            z-index: 10;
        }

        #target-text {
            font-size: 36px;
            font-weight: bold;
            color: #ff5722;
            text-align: center;
        }

        .stat-box {
            font-size: 22px;
            background: #fff3e0;
            padding: 8px 15px;
            border-radius: 15px;
            border: 2px solid #ffcc80;
        }

        #timer-container {
            width: 100%;
            height: 12px;
            background: #eee;
        }

        #timer-bar {
            width: 100%;
            height: 100%;
            background: #4caf50;
            transition: width 1s linear;
        }

        #play-area {
            position: relative;
            width: 100vw;
            flex-grow: 1;
        }

        .game-object {
            position: absolute;
            font-size: 70px; /* Big and easy to see */
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }

        .game-object:active {
            transform: scale(1.5);
        }

        @keyframes popOut {
            to { transform: scale(3); opacity: 0; }
        }
        .popped { animation: popOut 0.5s forwards; pointer-events: none; }
    </style>
</head>
<body>

    <div id="header">
        <div class="stat-box">‚≠ê Score: <span id="score">0</span></div>
        <div id="target-text">Ready?</div>
        <div class="stat-box">Round: <span id="round">1</span>/60</div>
    </div>
    <div id="timer-container">
        <div id="timer-bar"></div>
    </div>

    <div id="play-area"></div>

    <script>
        const allObjects = [
            {n: "Dog", e: "üê∂"}, {n: "Cat", e: "üê±"}, {n: "Lion", e: "ü¶Å"}, {n: "Pig", e: "üê∑"},
            {n: "Cow", e: "üêÆ"}, {n: "Bear", e: "üêª"}, {n: "Panda", e: "üêº"}, {n: "Frog", e: "üê∏"},
            {n: "Duck", e: "ü¶Ü"}, {n: "Bee", e: "üêù"}, {n: "Fish", e: "üêü"}, {n: "Whale", e: "üê≥"},
            {n: "Apple", e: "üçé"}, {n: "Banana", e: "üçå"}, {n: "Pizza", e: "üçï"}, {n: "Cake", e: "üéÇ"},
            {n: "Car", e: "üöó"}, {n: "Train", e: "üöÇ"}, {n: "Rocket", e: "üöÄ"}, {n: "Bike", e: "üö≤"},
            {n: "Sun", e: "‚òÄÔ∏è"}, {n: "Moon", e: "üåô"}, {n: "Star", e: "‚≠ê"}, {n: "Rainbow", e: "üåà"},
            {n: "Ball", e: "‚öΩ"}, {n: "Balloon", e: "üéà"}, {n: "Guitar", e: "üé∏"}, {n: "Drum", e: "ü•Å"},
            {n: "Robot", e: "ü§ñ"}, {n: "Gift", e: "üéÅ"}, {n: "Book", e: "üìñ"}, {n: "Hat", e: "üé©"},
            {n: "Ice Cream", e: "üç¶"}, {n: "Donut", e: "üç©"}, {n: "Butterfly", e: "ü¶ã"}, {n: "Flower", e: "üå∏"},
            {n: "Elephant", e: "üêò"}, {n: "Monkey", e: "üêí"}, {n: "Turtle", e: "üê¢"}, {n: "Owl", e: "ü¶â"},
            {n: "Snowman", e: "‚òÉÔ∏è"}, {n: "Cloud", e: "‚òÅÔ∏è"}, {n: "Umbrella", e: "‚òÇÔ∏è"}, {n: "Key", e: "üîë"},
            {n: "Phone", e: "üì±"}, {n: "Camera", e: "üì∑"}, {n: "Watch", e: "‚åö"}, {n: "Lamp", e: "üí°"},
            {n: "Cup", e: "ü•§"}, {n: "Strawberry", e: "üçì"}, {n: "Pineapple", e: "üçç"}, {n: "Grape", e: "üçá"},
            {n: "Octopus", e: "üêô"}, {n: "Crab", e: "ü¶Ä"}, {n: "Horse", e: "üê¥"}, {n: "Sheep", e: "üêë"},
            {n: "Bird", e: "üê¶"}, {n: "Plane", e: "‚úàÔ∏è"}, {n: "Bus", e: "üöå"}, {n: "Truck", e: "üöõ"}
        ];

        let score = 0, roundCount = 0, timeLeft = 30, timerInterval, animationId;
        let movingObjects = [];
        const playArea = document.getElementById('play-area');

        function speak(text) {
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            msg.rate = 0.85;
            window.speechSynthesis.speak(msg);
        }

        function startRound() {
            if (roundCount >= 60) {
                speak("Game finished! You found so many objects!");
                alert("Final Score: " + score);
                location.reload();
                return;
            }

            roundCount++;
            document.getElementById('round').innerText = roundCount;
            playArea.innerHTML = '';
            movingObjects = [];
            cancelAnimationFrame(animationId);

            let selected = [...allObjects].sort(() => 0.5 - Math.random()).slice(0, 20);
            let target = selected[Math.floor(Math.random() * selected.length)];
            
            document.getElementById('target-text').innerText = `Find the ${target.n}!`;
            speak(`Can you find the ${target.n}?`);

            selected.forEach(obj => {
                const el = document.createElement('div');
                el.className = 'game-object';
                el.innerText = obj.e;

                // Physics state
                const data = {
                    element: el,
                    name: obj.n,
                    x: Math.random() * (window.innerWidth - 100),
                    y: Math.random() * (window.innerHeight - 250),
                    dx: (Math.random() - 0.5) * 1.5, // Slow horizontal drift
                    dy: (Math.random() - 0.5) * 1.5  // Slow vertical drift
                };

                el.onclick = () => {
                    if (obj.n === target.n) {
                        score++;
                        document.getElementById('score').innerText = score;
                        el.classList.add('popped');
                        speak("Yay! You found it!");
                        clearInterval(timerInterval);
                        setTimeout(startRound, 1200);
                    } else {
                        speak("That's the " + obj.n);
                    }
                };

                playArea.appendChild(el);
                movingObjects.push(data);
            });

            animate();
            resetTimer();
        }

        function animate() {
            movingObjects.forEach(obj => {
                obj.x += obj.dx;
                obj.y += obj.dy;

                // Bounce off walls
                if (obj.x <= 0 || obj.x >= window.innerWidth - 80) obj.dx *= -1;
                if (obj.y <= 0 || obj.y >= playArea.offsetHeight - 80) obj.dy *= -1;

                obj.element.style.transform = `translate(${obj.x}px, ${obj.y}px)`;
            });
            animationId = requestAnimationFrame(animate);
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timeLeft = 30; // Increased to 30 seconds
            const bar = document.getElementById('timer-bar');
            
            timerInterval = setInterval(() => {
                timeLeft--;
                bar.style.width = (timeLeft / 30 * 100) + '%';
                bar.style.backgroundColor = timeLeft < 10 ? '#f44336' : '#4caf50';

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    speak("Let's try a new one!");
                    setTimeout(startRound, 1000);
                }
            }, 1000);
        }

        // Initialize on first click (needed for some browsers to allow audio)
        document.body.onclick = function() {
            if(roundCount === 0) startRound();
        };
        document.getElementById('target-text').innerText = "Click Screen to Start!";
    </script>
</body>
</html>